<script>
    if (window.testRunner) {
        testRunner.dumpAsText();
        testRunner.waitUntilDone();
    }

    window.onload = () => {
        window.getSelection().setBaseAndExtent(TH,1,SPAN,0);
        document.execCommand("insertUnorderedList", false);

        requestAnimationFrame(function () {
            document.body.innerHTML = "<p> Tests inserting list at the end of a table. The test passes if WebKit doesn't crash or hit an assertion.</p>";
            if (window.testRunner)
                testRunner.notifyDone();
        });
    }
</script>
<body contenteditable="true"><table><select></select><th id=TH>a</th><span id=SPAN></span></table></body>
